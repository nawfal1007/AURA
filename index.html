<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>AURA APPAREL | Artisanal Luxury & Sustainable Spirit</title>
    <meta name="description" content="Official Flagship of Aura Apparel. Sustainable fashion handcrafted in Java, Indonesia. Experience the liquid luxury of ethical craft.">
    <link rel="icon" type="image/png" href="https://fav.farm/ðŸŒ¿">

    <script src="https://cdn.tailwindcss.com"></script>
    
    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/intersect@3.x.x/dist/cdn.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"></script>
    
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <script>
        window.tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        aura: {
                            /* Primary Brand Palette */
                            base: '#FBFBF9',       /* Pearl Essence: The main background canvas */
                            dark: '#0A1A17',       /* Obsidian Jungle: Primary contrast and text */
                            accent: '#D4AF37',     /* Liquid Gold: Highlights, CTAs, and Statuses */
                            
                            /* Secondary Semantic Colors */
                            sand: '#E6E2DD',       /* Coastal Drift: Neutral accents */
                            terra: '#B08E77',      /* Javanese Clay: Warm secondary tones */
                            error: '#9B2C2C',      /* Crimson Alert: Error states */
                            success: '#2F855A',    /* Emerald Growth: Success states */
                            
                            /* Liquid Glass Alpha Colors */
                            glass: 'rgba(255, 255, 255, 0.03)',
                            'glass-border': 'rgba(255, 255, 255, 0.2)',
                            'glass-dark': 'rgba(10, 26, 23, 0.7)'
                        }
                    },
                    fontFamily: {
                        sans: ['Lato', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    },
                    spacing: {
                        '18': '4.5rem',
                        '22': '5.5rem',
                        '128': '32rem',
                    },
                    animation: {
                        /* Custom Motion Library */
                        'blob-slow': 'blob 25s infinite alternate ease-in-out',
                        'blob-fast': 'blob 18s infinite alternate-reverse ease-in-out',
                        'glass-drift': 'glassDrift 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'pulse-gentle': 'pulseGentle 4s ease-in-out infinite',
                        'shimmer-infinite': 'shimmer 2s linear infinite',
                        'float-y': 'floatY 6s ease-in-out infinite',
                    },
                    keyframes: {
                        blob: {
                            '0%': { transform: 'translate(0px, 0px) scale(1) rotate(0deg)' },
                            '33%': { transform: 'translate(60px, -100px) scale(1.2) rotate(45deg)' },
                            '66%': { transform: 'translate(-80px, 40px) scale(0.8) rotate(-45deg)' },
                            '100%': { transform: 'translate(0px, 0px) scale(1) rotate(0deg)' },
                        },
                        glassDrift: {
                            '0%': { opacity: '0', transform: 'translateY(40px) scale(0.98)', filter: 'blur(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0) scale(1)', filter: 'blur(0)' }
                        },
                        pulseGentle: {
                            '0%, 100%': { opacity: '1' },
                            '50%': { opacity: '0.7' }
                        },
                        shimmer: {
                            '0%': { backgroundPosition: '-200% 0' },
                            '100%': { backgroundPosition: '200% 0' }
                        },
                        floatY: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' }
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* 1. Global Reset & Performance Optimizations */
        [x-cloak] { display: none !important; }
        
        * {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        html {
            scrollbar-gutter: stable;
        }

        /* 2. Liquid Glass System (Backdrop Blur & Alpha) */
        .glass-refracted {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(35px) saturate(200%);
            -webkit-backdrop-filter: blur(35px) saturate(200%);
            border: 1px solid rgba(255, 255, 255, 0.25);
            box-shadow: 0 15px 45px rgba(0, 0, 0, 0.05);
        }

        .glass-dark-refracted {
            background: rgba(10, 26, 23, 0.75);
            backdrop-filter: blur(30px) saturate(150%);
            -webkit-backdrop-filter: blur(30px) saturate(150%);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        }

        /* 3. Biological Motion (Liquid Blobs) */
        .liquid-canvas-blob {
            position: absolute;
            width: 800px;
            height: 800px;
            filter: blur(120px);
            border-radius: 50%;
            z-index: -1;
            opacity: 0.35;
            pointer-events: none;
            mix-blend-mode: multiply;
        }

        /* 4. Scrollbar Refinement */
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { 
            background: #0A1A17; 
            border-radius: 20px; 
            border: 1px solid rgba(255,255,255,0.1);
        }

        /* 5. Typography & Text Effects */
        .luxury-text-glow {
            text-shadow: 0 0 30px rgba(212, 175, 55, 0.3);
        }

        .vertical-text {
            writing-mode: vertical-rl;
            text-orientation: mixed;
        }

        /* 6. Interaction: Magnetic Button Logic (CSS Part) */
        .btn-magnetic {
            transition: transform 0.3s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .btn-magnetic:hover {
            transform: scale(1.05);
        }

        /* 7. Loading Shimmer Effect for Inventory */
        .skeleton-shimmer {
            background: linear-gradient(90deg, #f0f0f0 25%, #f9f9f9 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite linear;
        }
    </style>
</head>

<body class="bg-aura-base text-aura-dark selection:bg-aura-dark selection:text-aura-accent overflow-x-hidden min-h-screen"
      x-data="auraTitanEngine()">

    <div class="fixed inset-0 z-[-1] overflow-hidden bg-aura-base">
        <div class="liquid-canvas-blob bg-blue-100 top-[-15%] left-[-10%] animate-blob-slow"></div>
        <div class="liquid-canvas-blob bg-aura-accent/15 bottom-[-10%] right-[-5%] animate-blob-fast" style="animation-delay: 2s;"></div>
        <div class="liquid-canvas-blob bg-pink-100 top-[40%] left-[20%] animate-blob-slow" style="animation-delay: 5s;"></div>
        <div class="liquid-canvas-blob bg-emerald-50 bottom-[10%] left-[-15%] animate-blob-fast" style="animation-delay: 8s;"></div>
    </div>


    <div class="fixed top-12 right-8 z-[110] flex flex-col gap-4 pointer-events-none">
        <template x-for="toast in toasts" :key="toast.id">
            <div x-show="toast.visible" 
                 x-transition:enter="transition ease-out duration-500 transform"
                 x-transition:enter-start="opacity-0 translate-x-12 scale-90"
                 x-transition:enter-end="opacity-100 translate-x-0 scale-100"
                 x-transition:leave="transition ease-in duration-300 opacity-0 translate-x-8"
                 class="glass-dark-refracted text-white px-8 py-5 rounded-2xl flex items-center gap-5 min-w-[380px] shadow-2xl pointer-events-auto">
                
                <div class="w-12 h-12 rounded-full flex items-center justify-center bg-white/10">
                    <template x-if="toast.type === 'success'">
                        <i class="ph-fill ph-check-circle text-aura-accent text-2xl"></i>
                    </template>
                    <template x-if="toast.type === 'error'">
                        <i class="ph-fill ph-warning-circle text-red-400 text-2xl"></i>
                    </template>
                </div>

                <div class="flex-1">
                    <h4 class="text-[10px] font-bold uppercase tracking-[0.3em] text-aura-accent" x-text="toast.title"></h4>
                    <p class="text-sm font-light text-white/80 mt-1" x-text="toast.message"></p>
                </div>

                <button @click="removeToast(toast.id)" class="text-white/20 hover:text-white transition-colors">
                    <i class="ph ph-x-circle text-xl"></i>
                </button>
            </div>
        </template>
    </div>


    <header class="fixed top-0 w-full z-50 transition-all duration-1000"
            :class="scrolled ? 'py-4' : 'py-12'">
        
        <div class="container mx-auto px-6">
            <div class="glass-refracted rounded-full px-10 py-5 flex justify-between items-center transition-all duration-700"
                 :class="scrolled ? 'shadow-2xl translate-y-0' : 'border-transparent bg-transparent backdrop-blur-none shadow-none'">
                
                <div class="flex items-center gap-8 w-1/3">
                    <button @click="mobileMenuOpen = true" class="lg:hidden hover:text-aura-accent transition-transform hover:scale-110">
                        <i class="ph ph-list text-3xl"></i>
                    </button>
                    
                    <template x-if="isAdmin">
                        <a href="admin.html" class="hidden lg:flex items-center gap-3 bg-aura-dark text-white px-6 py-2.5 rounded-full text-[10px] font-bold uppercase tracking-[0.25em] shadow-xl hover:bg-aura-accent hover:text-aura-dark transition-all duration-500 group">
                            <i class="ph-fill ph-shield-star text-aura-accent group-hover:text-aura-dark transition-colors"></i>
                            Admin Vault
                        </a>
                    </template>

                    <button class="hidden lg:block hover:text-aura-accent transition-all duration-300 transform hover:rotate-12">
                        <i class="ph ph-magnifying-glass text-2xl"></i>
                    </button>
                </div>

                <div class="w-1/3 text-center">
                    <a href="#" class="inline-block relative">
                        <h1 class="text-3xl md:text-5xl font-serif font-bold tracking-[0.4em] uppercase transition-all duration-700 hover:tracking-[0.5em]">
                            AURA<span class="text-aura-accent">.</span>
                        </h1>
                    </a>
                </div>

                <div class="w-1/3 flex justify-end items-center gap-10">
                    <nav class="hidden lg:flex gap-12 text-[11px] font-bold tracking-[0.3em] uppercase text-gray-400">
                        <a href="#shop" class="hover:text-aura-dark transition-colors duration-500 relative group">
                            Collection
                            <span class="absolute -bottom-2 left-0 w-0 h-0.5 bg-aura-dark transition-all duration-500 group-hover:w-full"></span>
                        </a>
                        <template x-if="session">
                            <a href="profile.html" class="text-aura-dark group relative">
                                My Dossier
                                <span class="absolute -bottom-2 left-0 w-full h-0.5 bg-aura-accent scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"></span>
                            </a>
                        </template>
                    </nav>

                    <div class="flex items-center gap-8 border-l border-gray-200 pl-10">
                        <template x-if="!session">
                            <a href="loginpage.html" class="hover:text-aura-accent transition-all duration-300 transform hover:scale-110" title="Secure Login">
                                <i class="ph ph-user-focus text-3xl"></i>
                            </a>
                        </template>
                        <template x-if="session">
                            <button @click="handleLogout" class="hover:text-aura-error transition-all duration-300 transform hover:rotate-90" title="Terminate Session">
                                <i class="ph ph-sign-out text-3xl"></i>
                            </button>
                        </template>

                        <button @click="cartOpen = true" class="relative group btn-magnetic">
                            <i class="ph ph-tote text-3xl group-hover:text-aura-accent transition-colors duration-500"></i>
                            <span x-show="cartCount > 0" 
                                  class="absolute -top-2 -right-2 bg-aura-dark text-aura-accent text-[10px] w-6 h-6 rounded-full flex items-center justify-center font-bold shadow-2xl border-2 border-white animate-bounce" 
                                  x-text="cartCount"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    ```
    
<section class="relative min-h-screen flex items-center justify-center pt-24 overflow-hidden">
        <div class="container mx-auto px-6 relative z-10">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-16 items-center">
                
                <div class="lg:col-span-5 z-20 text-center lg:text-left" 
                     x-intersect="$el.classList.add('animate-glass-drift')">
                    
                    <div class="inline-flex items-center gap-3 bg-aura-dark text-aura-accent px-8 py-3 rounded-full mb-10 shadow-2xl">
                        <span class="relative flex h-2 w-2">
                            <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-aura-accent opacity-75"></span>
                            <span class="relative inline-flex rounded-full h-2 w-2 bg-aura-accent"></span>
                        </span>
                        <span class="text-[10px] font-bold uppercase tracking-[0.5em]">Java Solstice Collection 2026</span>
                    </div>

                    <h2 class="text-7xl md:text-9xl font-serif font-medium leading-[0.8] mb-12 text-aura-dark relative">
                        Liquid <br>
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-gray-400 to-gray-100 italic">Essence.</span>
                        <div class="absolute -top-10 -left-10 w-24 h-24 bg-aura-accent/10 rounded-full blur-2xl -z-10 animate-pulse-gentle"></div>
                    </h2>

                    <p class="max-w-md mx-auto lg:mx-0 text-gray-500 font-light text-lg leading-relaxed mb-12 border-l-2 border-aura-accent/20 pl-6">
                        Sustainability carved from moonlight and Indonesian silk. A digital flagship experience where tradition meets technical perfection.
                    </p>

                    <div class="flex flex-col sm:flex-row gap-8 justify-center lg:justify-start pt-4">
                        <a href="#shop" class="bg-aura-dark text-white px-16 py-6 rounded-full text-[10px] font-bold uppercase tracking-[0.4em] shadow-2xl hover:bg-aura-accent hover:text-aura-dark transition-all duration-700 transform hover:-translate-y-2 group flex items-center justify-center gap-4">
                            Explore Archive 
                            <i class="ph ph-arrow-down-right text-lg transition-transform group-hover:rotate-45"></i>
                        </a>
                        <button @click="scrollToAbout" class="glass-refracted text-aura-dark px-14 py-6 rounded-full text-[10px] font-bold uppercase tracking-[0.4em] hover:bg-white transition-all duration-700">
                            The Narrative
                        </button>
                    </div>
                </div>

                <div class="lg:col-span-7 relative group">
                    <div class="relative w-full aspect-[4/5] glass-refracted p-6 rounded-[3rem] shadow-2xl animate-float-y transition-transform duration-1000 group-hover:scale-[1.02]">
                        <div class="w-full h-full rounded-[2.2rem] overflow-hidden relative">
                            <img src="https://images.unsplash.com/photo-1539109136881-3be0616acf4b?q=80&w=2000" 
                                 alt="High-end Fashion Photography" 
                                 class="w-full h-full object-cover transition-transform duration-[3s] group-hover:scale-110 brightness-90 group-hover:brightness-100">
                            
                            <div class="absolute inset-0 bg-gradient-to-tr from-aura-dark/20 via-transparent to-white/10 mix-blend-overlay"></div>
                        </div>

                        <div class="absolute -top-12 right-10 glass-dark-refracted p-8 rounded-2xl shadow-2xl animate-float-y" style="animation-delay: 1s;">
                            <div class="flex items-center gap-4 text-white">
                                <i class="ph ph-fingerprint text-4xl text-aura-accent"></i>
                                <div>
                                    <p class="text-2xl font-serif font-bold">Traceable</p>
                                    <p class="text-[9px] uppercase tracking-widest opacity-50">Origin Protocol</p>
                                </div>
                            </div>
                        </div>

                        <div class="absolute -bottom-10 -left-12 glass-refracted p-10 rounded-2xl shadow-2xl animate-float-y" style="animation-delay: 3s;">
                            <p class="text-5xl font-serif font-bold text-aura-dark mb-1 luxury-text-glow">100%</p>
                            <p class="text-[10px] text-gray-400 font-bold uppercase tracking-[0.3em]">Organic Silk</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="absolute bottom-20 left-10 flex flex-col items-center gap-8 opacity-20 hidden xl:flex">
            <span class="vertical-text uppercase text-[9px] font-bold tracking-[0.8em]">Aura â€¢ Identity â€¢ System</span>
            <div class="w-px h-32 bg-aura-dark"></div>
        </div>
    </section>


    <main id="shop" class="relative py-48 bg-transparent">
        <div class="container mx-auto px-6">
            
            <div class="flex flex-col md:flex-row justify-between items-end mb-32 border-b border-aura-dark/5 pb-16 relative">
                <div class="max-w-2xl text-center md:text-left" x-intersect="$el.classList.add('animate-glass-drift')">
                    <h2 class="text-6xl md:text-8xl font-serif text-aura-dark mb-10">Available <br><span class="italic text-gray-300">Artifacts.</span></h2>
                    <p class="text-gray-400 font-light text-lg leading-relaxed max-w-lg">
                        Meticulously curated. Each piece is generated using traditional Javanese looms and modern circular design principles.
                    </p>
                </div>
                
                <div class="mt-12 md:mt-0 glass-refracted p-3 rounded-full flex gap-3 shadow-xl transform transition-transform hover:scale-105">
                    <template x-for="cat in ['All', 'Tops', 'Bottoms', 'Dresses', 'Accessories']">
                        <button @click="activeCategory = cat" 
                                :class="activeCategory === cat ? 'bg-aura-dark text-white shadow-lg' : 'hover:bg-aura-base text-gray-400'"
                                class="px-10 py-4 rounded-full text-[10px] font-bold uppercase tracking-[0.2em] transition-all duration-700 ease-out"
                                x-text="cat"></button>
                    </template>
                </div>

                <div class="absolute -bottom-20 -right-20 w-64 h-64 bg-blue-50/50 rounded-full blur-[100px] -z-10"></div>
            </div>

            <div x-show="productsLoading" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-16">
                <template x-for="i in 8">
                    <div class="glass-refracted p-5 rounded-[2.5rem] space-y-8">
                        <div class="aspect-[3/4] rounded-[2rem] skeleton-shimmer"></div>
                        <div class="space-y-4 px-4 pb-4">
                            <div class="h-6 skeleton-shimmer w-3/4 rounded-sm"></div>
                            <div class="h-4 skeleton-shimmer w-1/4 rounded-sm"></div>
                        </div>
                    </div>
                </template>
            </div>

            <div x-show="!productsLoading" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-12 gap-y-32" x-cloak>
                <template x-for="product in filteredProducts" :key="product.id">
                    <div class="group flex flex-col h-full animate-fade-in transition-all duration-1000">
                        
                        <div class="glass-refracted p-5 rounded-[2.8rem] transition-all duration-1000 group-hover:shadow-2xl group-hover:-translate-y-6 relative">
                            
                            <div class="relative aspect-[3/4] overflow-hidden rounded-[2.2rem] bg-aura-base mb-8 shadow-inner cursor-pointer">
                                <img :src="product.image" 
                                     class="w-full h-full object-cover transition-transform duration-[2.5s] ease-out group-hover:scale-110 group-hover:rotate-1">
                                
                                <div class="absolute top-6 left-6 flex flex-col gap-3 pointer-events-none z-10">
                                    <span x-show="product.badge" class="glass-dark-refracted text-aura-accent text-[9px] font-bold uppercase tracking-[0.3em] px-5 py-2 rounded-full border border-white/10 shadow-xl" x-text="product.badge"></span>
                                    <span x-show="product.is_new" class="bg-white/95 text-aura-dark text-[9px] font-bold uppercase tracking-[0.3em] px-5 py-2 rounded-full shadow-xl">Limited Release</span>
                                </div>

                                <div class="absolute inset-0 bg-aura-dark/0 group-hover:bg-aura-dark/20 transition-all duration-1000"></div>
                                
                                <div class="absolute inset-x-0 bottom-0 p-8 translate-y-full group-hover:translate-y-0 transition-transform duration-[0.8s] ease-out glass-dark-refracted border-t border-white/5 backdrop-blur-3xl">
                                    <p class="text-[9px] uppercase font-bold text-aura-accent mb-6 text-center tracking-[0.4em] opacity-60">Architectural Sizing</p>
                                    <div class="flex justify-center gap-5">
                                        <template x-for="size in ['S', 'M', 'L']">
                                            <button @click="addToCart(product, size)" 
                                                    class="w-14 h-14 rounded-full border border-aura-accent/30 text-aura-accent hover:bg-aura-accent hover:text-aura-dark transition-all duration-500 text-[11px] font-bold shadow-lg hover:shadow-aura-accent/20">
                                                <span x-text="size"></span>
                                            </button>
                                        </template>
                                    </div>
                                    <p class="text-[8px] text-white/30 text-center mt-6 uppercase tracking-widest">Instant Bag Update Enabled</p>
                                </div>
                            </div>

                            <div class="flex justify-between items-start px-4 pb-4">
                                <div class="space-y-2">
                                    <h3 class="font-serif text-2xl text-aura-dark group-hover:text-aura-accent transition-colors duration-700 cursor-pointer" x-text="product.name"></h3>
                                    <p class="text-[10px] text-gray-400 uppercase tracking-[0.4em] font-bold" x-text="product.category"></p>
                                </div>
                                <div class="text-right">
                                    <p class="font-bold text-xl font-serif text-aura-dark transition-all duration-700 group-hover:scale-110" x-text="formatMoney(product.price)"></p>
                                    <div class="flex items-center gap-1 justify-end mt-2">
                                        <i class="ph-fill ph-truck text-aura-success text-xs"></i>
                                        <span class="text-[8px] text-aura-success font-bold uppercase tracking-tighter">Verified Dispatch</span>
                                    </div>
                                </div>
                            </div>

                            <template x-if="isAdmin">
                                <div class="absolute top-4 right-4 z-20">
                                    <a href="admin.html" class="w-10 h-10 bg-aura-dark text-aura-accent rounded-full flex items-center justify-center shadow-2xl border border-white/20 hover:scale-110 transition">
                                        <i class="ph-bold ph-pencil-simple"></i>
                                    </a>
                                </div>
                            </template>
                        </div>
                    </div>
                </template>
            </div>

            <div x-show="!productsLoading && filteredProducts.length === 0" class="py-40 text-center glass-refracted rounded-[3rem]" x-cloak>
                <div class="max-w-md mx-auto space-y-8 animate-glass-drift">
                    <div class="w-24 h-24 bg-aura-base rounded-full flex items-center justify-center mx-auto shadow-xl">
                        <i class="ph ph-magnifying-glass text-5xl text-gray-200"></i>
                    </div>
                    <h3 class="text-3xl font-serif text-aura-dark">Archive Syncing</h3>
                    <p class="text-gray-400 font-light leading-relaxed">The selected category is currently undergoing quality review. Our artisans are hand-stitching new masterpieces for this section.</p>
                    <button @click="activeCategory = 'All'" class="text-[10px] font-bold uppercase tracking-widest text-aura-accent hover:text-aura-dark transition border-b-2 border-aura-accent/20 pb-1">Reset Filters</button>
                </div>
            </div>
        </div>
    </main>


    <section id="story" class="bg-aura-dark text-white py-56 relative overflow-hidden">
        
        <div class="absolute top-0 left-0 w-full h-full opacity-5 pointer-events-none">
            <div class="absolute inset-0 bg-gradient-to-tr from-white to-transparent"></div>
        </div>

        <div class="container mx-auto px-6 relative z-10">
            <div class="flex flex-col lg:flex-row items-center gap-40">
                
                <div class="w-full lg:w-1/2 relative group">
                    <div class="glass-refracted p-8 rounded-[4rem] border-white/5 transition-transform duration-1000 group-hover:rotate-1" 
                         x-intersect="$el.classList.add('animate-fade-in')">
                        <img src="https://images.unsplash.com/photo-1596704017254-9b121068fb31?q=80&w=2000" 
                             alt="Master Artisan Looming" 
                             class="w-full h-[750px] object-cover rounded-[3rem] grayscale group-hover:grayscale-0 transition-all duration-[2s]">
                        
                        <div class="absolute -top-16 -right-16 glass-dark-refracted p-12 rounded-[2.5rem] shadow-2xl animate-float-y">
                            <p class="text-[10px] font-bold uppercase tracking-[0.5em] text-aura-accent mb-4">Fiber Standard</p>
                            <h4 class="text-4xl font-serif font-bold text-white mb-2 italic">GOTS Cert.</h4>
                            <p class="text-xs text-white/40 max-w-[120px] leading-relaxed">Verified organic cotton and non-toxic dyes.</p>
                        </div>
                    </div>
                </div>

                <div class="w-full lg:w-1/2 space-y-16">
                    <div x-intersect="$el.classList.add('animate-glass-drift')">
                        <div class="flex items-center gap-6 mb-10">
                            <span class="text-aura-accent font-bold uppercase tracking-[0.6em] text-xs">Our Heritage</span>
                            <div class="h-px w-24 bg-aura-accent/30"></div>
                        </div>
                        <h2 class="text-6xl md:text-[5.5rem] font-serif leading-[0.9] mb-12">
                            Legacy in <br>
                            <span class="text-transparent bg-clip-text bg-gradient-to-r from-aura-accent to-yellow-100 luxury-text-glow">Every Stitch.</span>
                        </h2>
                        <div class="space-y-8 text-white/50 text-xl font-light leading-relaxed max-w-xl">
                            <p>
                                Aura was forged in the volcanic highlands of Central Java. We do not manufacture; we cultivate. Every garment represents a lineage of artisan knowledge passed down through seven generations of master weavers.
                            </p>
                            <p>
                                Our design language is a silent protest against the noise of fast fashion. We choose form over trend, quality over speed, and soul over synthetic.
                            </p>
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-16 pt-16 border-t border-white/5" x-intersect="$el.classList.add('animate-glass-drift')">
                        <div class="space-y-4">
                            <p class="text-6xl font-serif text-aura-accent">65+</p>
                            <p class="text-[10px] uppercase tracking-[0.4em] text-white/30 font-bold leading-relaxed">Collaborative <br>Artisan Families</p>
                        </div>
                        <div class="space-y-4">
                            <p class="text-6xl font-serif text-aura-accent">15k</p>
                            <p class="text-[10px] uppercase tracking-[0.4em] text-white/30 font-bold leading-relaxed">Liters of Water <br>Recovered in 2026</p>
                        </div>
                        <div class="space-y-4">
                            <p class="text-6xl font-serif text-aura-accent">0%</p>
                            <p class="text-[10px] uppercase tracking-[0.4em] text-white/30 font-bold leading-relaxed">Plastic Waste <br>In Lifecycle</p>
                        </div>
                        <div class="space-y-4">
                            <p class="text-6xl font-serif text-aura-accent">25yr</p>
                            <p class="text-[10px] uppercase tracking-[0.4em] text-white/30 font-bold leading-relaxed">Silhoutte <br>Longevity Promise</p>
                        </div>
                    </div>

                    <div class="pt-10">
                        <button class="inline-flex items-center gap-6 group">
                            <span class="text-aura-accent uppercase font-bold tracking-[0.4em] text-xs group-hover:text-white transition-colors duration-500">View Transparency Report</span>
                            <div class="w-16 h-16 rounded-full glass-refracted flex items-center justify-center transition-all duration-700 group-hover:bg-aura-accent group-hover:text-aura-dark group-hover:scale-110">
                                <i class="ph ph-arrow-right text-2xl"></i>
                            </div>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    ```

<div class="relative z-[100]" x-show="cartOpen" x-cloak>
        <div class="fixed inset-0 bg-aura-dark/60 backdrop-blur-md transition-opacity duration-700" 
             x-show="cartOpen" 
             x-transition:enter="ease-out duration-500"
             x-transition:enter-start="opacity-0"
             x-transition:enter-end="opacity-100"
             x-transition:leave="ease-in duration-500"
             x-transition:leave-start="opacity-100"
             x-transition:leave-end="opacity-0"
             @click="cartOpen = false"></div>

        <div class="fixed inset-y-0 right-0 w-full max-w-md flex flex-col transform transition-all duration-700 ease-[cubic-bezier(0.16,1,0.3,1)]"
             x-show="cartOpen" 
             x-transition:enter="translate-x-full" 
             x-transition:enter-end="translate-x-0"
             x-transition:leave="translate-x-0"
             x-transition:leave-end="translate-x-full">
            
            <div class="h-full flex flex-col glass-dark-refracted shadow-2xl overflow-hidden relative border-l border-white/10">
                
                <div class="p-10 flex justify-between items-center border-b border-white/5 bg-white/5">
                    <div>
                        <h3 class="text-2xl font-serif font-bold text-white tracking-[0.2em] uppercase">Shopping Bag</h3>
                        <p class="text-[9px] uppercase tracking-[0.4em] text-aura-accent font-bold mt-2" 
                           x-text="cartCount + ' Artisanal Pieces Selected'"></p>
                    </div>
                    <button @click="cartOpen = false" class="text-white/30 hover:text-aura-error transition-all duration-500 group">
                        <i class="ph ph-x text-3xl transform group-hover:rotate-90"></i>
                    </button>
                </div>

                <div class="flex-1 overflow-y-auto p-10 custom-scroll relative">
                    <div x-show="cartLoading" class="absolute inset-0 bg-aura-dark/40 z-10 flex items-center justify-center backdrop-blur-sm">
                        <div class="w-12 h-12 border-4 border-aura-accent border-t-transparent rounded-full animate-spin"></div>
                    </div>

                    <div x-show="cart.length === 0" class="text-center py-40 animate-glass-drift">
                        <div class="w-24 h-24 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-8 border border-white/10">
                            <i class="ph ph-tote text-5xl text-white/20"></i>
                        </div>
                        <p class="font-serif italic text-xl text-white/40">Your archive is empty.</p>
                        <button @click="cartOpen = false" class="mt-8 text-[10px] font-bold uppercase tracking-[0.3em] text-aura-accent border-b border-aura-accent/30 pb-1 hover:text-white transition-all">Back to Collection</button>
                    </div>
                    
                    <ul class="space-y-12">
                        <template x-for="(item, index) in cart" :key="index">
                            <li class="flex gap-8 group animate-glass-drift">
                                <div class="w-24 h-32 rounded-2xl overflow-hidden border border-white/10 flex-shrink-0 shadow-2xl relative">
                                    <img :src="item.image" class="w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110">
                                    <div class="absolute inset-0 bg-gradient-to-t from-aura-dark/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
                                </div>
                                
                                <div class="flex-1 flex flex-col justify-between py-1">
                                    <div>
                                        <div class="flex justify-between items-start">
                                            <h4 x-text="item.name" class="font-serif font-bold text-white text-xl line-clamp-1 pr-4"></h4>
                                            <p x-text="formatMoney(item.price * item.quantity)" class="text-sm font-bold text-aura-accent font-sans"></p>
                                        </div>
                                        <div class="flex items-center gap-4 mt-3">
                                            <p class="text-[9px] text-white/40 font-bold uppercase tracking-widest">Size <span x-text="item.size" class="text-white ml-2"></span></p>
                                            <div class="h-3 w-px bg-white/10"></div>
                                            <p class="text-[9px] text-white/40 font-bold uppercase tracking-widest">Qty <span x-text="item.quantity" class="text-white ml-2"></span></p>
                                        </div>
                                    </div>
                                    <div class="flex justify-end">
                                        <button @click="removeFromCart(index, item)" 
                                                class="text-aura-error/60 text-[9px] font-bold uppercase tracking-[0.2em] border-b border-transparent hover:border-aura-error transition-all pb-1">Remove Asset</button>
                                    </div>
                                </div>
                            </li>
                        </template>
                    </ul>
                </div>

                <div class="p-10 bg-white/5 border-t border-white/5 shadow-[0_-20px_40px_rgba(0,0,0,0.2)]">
                    <div class="flex justify-between items-end mb-10">
                        <div class="space-y-2">
                            <p class="text-[10px] font-bold uppercase text-white/30 tracking-[0.4em]">Investment Subtotal</p>
                            <h4 class="text-4xl font-serif font-bold text-white" x-text="formatMoney(cartTotal)"></h4>
                        </div>
                        <div class="text-right">
                            <p class="text-[10px] font-bold text-aura-success uppercase tracking-[0.2em]">Eco-Logistics Included</p>
                            <p class="text-[8px] text-white/20 uppercase mt-2">Verified Secure Transaction</p>
                        </div>
                    </div>
                    
                    <a href="checkout.html" class="block w-full bg-aura-accent text-aura-dark py-6 rounded-2xl text-center text-[11px] font-bold uppercase tracking-[0.4em] hover:bg-white transition-all duration-700 shadow-2xl transform active:scale-[0.98] shine-button">
                        Proceed to Settlement
                    </a>
                    
                    <div class="flex items-center justify-center gap-3 mt-8 opacity-20">
                        <i class="ph-fill ph-lock-key text-white"></i>
                        <p class="text-[8px] text-white uppercase tracking-[0.3em]">AES-256 Bit Encrypted Tunnel</p>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div x-show="mobileMenuOpen" class="fixed inset-0 z-[105] lg:hidden" x-cloak>
        <div class="absolute inset-0 bg-aura-dark/80 backdrop-blur-xl transition-opacity" @click="mobileMenuOpen = false"></div>
        
        <div class="relative w-[85%] max-w-sm h-full glass-dark-refracted shadow-2xl p-12 flex flex-col transform transition-transform duration-700"
             x-transition:enter="translate-x-[-100%]"
             x-transition:enter-end="translate-x-0"
             x-transition:leave="translate-x-0"
             x-transition:leave-end="translate-x-[-100%]">
            
            <div class="flex justify-between items-center mb-24">
                <span class="text-2xl font-serif font-bold tracking-[0.3em] text-white">AURA.</span>
                <button @click="mobileMenuOpen = false" class="text-white/40"><i class="ph ph-x text-3xl"></i></button>
            </div>

            <nav class="flex-1 flex flex-col gap-12 text-4xl font-serif text-white/50">
                <a href="#shop" @click="mobileMenuOpen = false" class="block hover:text-aura-accent transition duration-500">Collection</a>
                <a href="catalog.html" class="block hover:text-aura-accent transition duration-500">The Catalog</a>
                
                <div x-show="session" class="space-y-12 border-t border-white/5 pt-12">
                    <a href="profile.html" class="block text-aura-accent italic">My Orders</a>
                    <template x-if="isAdmin">
                        <a href="admin.html" class="block text-sm font-sans font-bold uppercase tracking-[0.4em] bg-aura-accent text-aura-dark p-6 rounded-2xl text-center shadow-2xl">Master Console</a>
                    </template>
                </div>
            </nav>

            <div class="mt-auto pt-10 border-t border-white/5">
                <div x-show="!session">
                    <a href="loginpage.html" class="block w-full bg-white text-aura-dark py-5 rounded-2xl text-center text-[10px] font-bold uppercase tracking-[0.3em] shadow-xl">Identify / Register</a>
                </div>
                <div x-show="session" class="flex flex-col gap-6">
                    <p class="text-[9px] uppercase tracking-[0.4em] text-white/20 text-center" x-text="'Operator: ' + session.user.email"></p>
                    <button @click="handleLogout" class="block w-full border border-aura-error/30 text-aura-error py-5 rounded-2xl text-center text-[10px] font-bold uppercase tracking-[0.3em] hover:bg-aura-error hover:text-white transition-all duration-700">Terminate Session</button>
                </div>
            </div>
        </div>
    </div>


    <footer class="bg-white/50 border-t border-gray-100 pt-40 pb-20 relative overflow-hidden">
        <div class="absolute bottom-0 right-0 w-96 h-96 bg-aura-accent/10 rounded-full blur-[120px] -z-10"></div>
        
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-1 lg:grid-cols-6 gap-24 mb-32">
                
                <div class="lg:col-span-2 space-y-12">
                    <div>
                        <a href="#" class="text-4xl font-serif font-bold tracking-[0.3em] uppercase text-aura-dark block mb-8">Aura<span class="text-aura-accent">.</span></a>
                        <p class="text-gray-400 text-sm leading-relaxed max-w-sm font-light">
                            Crafting a sustainable future through the intersection of Indonesian textile heritage and high-performance digital logic. Every thread is a signature of our commitment.
                        </p>
                    </div>
                    
                    <div class="flex gap-8">
                        <template x-for="icon in ['instagram-logo', 'tiktok-logo', 'pinterest-logo', 'spotify-logo']">
                            <a href="#" class="w-14 h-14 rounded-full glass-refracted flex items-center justify-center hover:bg-aura-dark hover:text-white transition-all duration-700 transform hover:-translate-y-2">
                                <i :class="'ph-fill ph-' + icon" class="text-2xl"></i>
                            </a>
                        </template>
                    </div>
                </div>

                <div class="space-y-10">
                    <h5 class="text-[10px] font-bold uppercase tracking-[0.5em] text-aura-accent">Discovery</h5>
                    <ul class="space-y-6 text-xs text-gray-400 font-bold tracking-[0.2em] uppercase">
                        <li><a href="#shop" class="hover:text-aura-dark transition-colors">Current Drops</a></li>
                        <li><a href="catalog.html" class="hover:text-aura-dark transition-colors">The Catalog</a></li>
                        <li><a href="#" class="hover:text-aura-dark transition-colors">Gift Protocol</a></li>
                    </ul>
                </div>

                <div class="space-y-10">
                    <h5 class="text-[10px] font-bold uppercase tracking-[0.5em] text-aura-accent">Company</h5>
                    <ul class="space-y-6 text-xs text-gray-400 font-bold tracking-[0.2em] uppercase">
                        <li><a href="#story" class="hover:text-aura-dark transition-colors">Artisan Legacy</a></li>
                        <li><a href="#" class="hover:text-aura-dark transition-colors">Transparency</a></li>
                        <li><a href="#" class="hover:text-aura-dark transition-colors">Careers</a></li>
                    </ul>
                </div>

                <div class="lg:col-span-2 space-y-10">
                    <h5 class="text-[10px] font-bold uppercase tracking-[0.5em] text-aura-accent">Intake Portal</h5>
                    <p class="text-xs text-gray-400 leading-relaxed font-light">Subscribe to receive technical bulletins on new drops and artisan impact reports.</p>
                    <div class="relative group">
                        <input type="email" placeholder="Email Reference" 
                               class="bg-transparent border-b border-gray-200 py-4 w-full text-xs outline-none focus:border-aura-dark transition-all duration-700 font-light">
                        <button class="absolute right-0 top-1/2 -translate-y-1/2 text-aura-accent hover:text-aura-dark transition-colors duration-500 font-bold uppercase text-[9px] tracking-widest">Authorize</button>
                    </div>
                </div>
            </div>

            <div class="pt-16 border-t border-gray-100 flex flex-col lg:flex-row justify-between items-center text-[9px] uppercase tracking-[0.5em] text-gray-300 gap-10">
                <div class="flex flex-col md:flex-row gap-12 items-center">
                    <p>&copy; 2026 Aura Apparel Global.</p>
                    <div class="hidden md:block h-4 w-px bg-gray-200"></div>
                    <p>Designed and Managed in Java, Indonesia.</p>
                </div>
                <div class="flex gap-12">
                    <a href="#" class="hover:text-aura-dark transition-colors">Privacy Protocol</a>
                    <a href="#" class="hover:text-aura-dark transition-colors">Terms of Use</a>
                </div>
            </div>
        </div>
    </footer>


    <script>
        function auraTitanEngine() {
            return {
                /* --- I. SYSTEM STATES --- */
                supabase: null,
                session: null,
                isAdmin: false,
                
                scrolled: false,
                mobileMenuOpen: false,
                cartOpen: false,
                cartLoading: false,
                productsLoading: true,
                
                /* --- II. DATA REPOSITORIES --- */
                products: [],
                activeCategory: 'All',
                cart: [],
                toasts: [],

                /* --- III. COMPUTED ANALYTICS --- */
                /** Calculates the mathematical total of all items in the bag */
                get cartTotal() { 
                    return this.cart.reduce((total, item) => total + (item.price * item.quantity), 0); 
                },
                /** Total unit count of artisanal pieces */
                get cartCount() { 
                    return this.cart.reduce((total, item) => total + item.quantity, 0); 
                },
                /** Reactive filter for the inventory grid */
                get filteredProducts() {
                    if (this.activeCategory === 'All') return this.products;
                    return this.products.filter(p => p.category === this.activeCategory);
                },

                /* --- IV. INITIALIZATION SEQUENCE --- */
                /** Triggers on page load to establish environmental variables */
                init() {
                    // Global Scroll Management: Optimized for performance
                    window.addEventListener('scroll', () => { 
                        this.scrolled = window.scrollY > 80; 
                    });
                    
                    // Boot up the secure database connection
                    this.establishDatabaseConnection();
                },

                /** Initializes the Supabase Secure client */
                async establishDatabaseConnection() {
                    const SB_URL = 'https://xenosyklkpisszqwibdw.supabase.co';
                    const SB_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhlbm9zeWtsa3Bpc3N6cXdpYmR3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA4NTkxNzcsImV4cCI6MjA4NjQzNTE3N30.A_WVC9GRa7USe2DPbzVUWw3TuBHnyImVqBZnzuPJbMw';
                    
                    this.supabase = supabase.createClient(SB_URL, SB_KEY);
                    
                    // Parallel data hydration for reduced latency
                    await Promise.all([
                        this.fetchStoreInventory(),
                        this.initializeSecurityContext()
                    ]);
                },

                /* --- V. INVENTORY & SECURITY LOGIC --- */
                /** Fetches latest product definitions from the secure cloud */
                async fetchStoreInventory() {
                    this.productsLoading = true;
                    try {
                        const { data, error } = await this.supabase
                            .from('products')
                            .select('*')
                            .order('created_at', { ascending: false });
                        
                        if (error) throw error;
                        this.products = data || [];
                    } catch (e) {
                        console.error('Titan Inventory Error:', e);
                        this.showToast('Security Update', 'Inventory synchronization interrupted.', 'error');
                    } finally {
                        this.productsLoading = false;
                    }
                },

                /** Checks user identity and manages Administrative privileges */
                async initializeSecurityContext() {
                    const { data: { session } } = await this.supabase.auth.getSession();
                    this.processIdentityGateway(session);
                    
                    // Real-time listener for session termination or creation
                    this.supabase.auth.onAuthStateChange((_, s) => {
                        this.processIdentityGateway(s);
                    });
                },

                /** Gateway for determining access levels */
                async processIdentityGateway(session) {
                    this.session = session;
                    // The "Titan" Admin Check
                    this.isAdmin = session && session.user.email === 'dashwebtr3@gmail.com';
                    
                    if (session) {
                        await this.synchronizeCartArchitecture();
                    } else {
                        this.hydrateGuestBag();
                    }
                },

                /* --- VI. COMMERCE TRANSACTION ENGINE --- */
                /** Universal entry point for adding items to the selection */
                async addToCart(product, size) {
                    this.cartOpen = true;
                    
                    if (!this.session) {
                        // Protocol A: Local Anonymous Storage
                        this.executeGuestAddition(product, size);
                    } else {
                        // Protocol B: Cloud Sync (Post-Login)
                        await this.executeCloudAddition(product, size);
                    }
                },

                /** Executes a local-only cart update for unauthenticated users */
                executeGuestAddition(product, size) {
                    const existing = this.cart.find(i => i.id === product.id && i.size === size);
                    if (existing) {
                        existing.quantity++;
                    } else {
                        // Deep clone to ensure memory safety
                        this.cart.push({...JSON.parse(JSON.stringify(product)), size, quantity: 1});
                    }
                    this.persistLocalArchive();
                    this.showToast('Bag Updated', `${product.name} successfully archived.`, 'success');
                },

                /** Executes a high-security cloud update for authenticated members */
                async executeCloudAddition(product, size) {
                    this.cartLoading = true;
                    try {
                        const existing = this.cart.find(i => i.id === product.id && i.size === size);
                        const newQty = existing ? existing.quantity + 1 : 1;

                        const { error } = await this.supabase
                            .from('cart_items')
                            .upsert({
                                user_id: this.session.user.id,
                                product_id: product.id,
                                size: size,
                                quantity: newQty
                            }, { onConflict: 'user_id, product_id, size' });

                        if (error) throw error;
                        await this.fetchCloudCartDossier();
                        this.showToast('Synchronized', `${product.name} updated on your global profile.`, 'success');
                    } catch (e) {
                        console.error('Titan Cloud Sync Failure:', e);
                        this.showToast('Sync Error', 'Cloud update rejected by server.', 'error');
                    } finally {
                        this.cartLoading = false;
                    }
                },

                /** Retrieves the latest cart state from the global cloud */
                async fetchCloudCartDossier() {
                    const { data, error } = await this.supabase.from('cart_items').select('*');
                    if (error) return;

                    // Manual Relational Hydration: Mapping DB keys back to inventory memory
                    this.cart = data.map(dbRow => {
                        const productMetadata = this.products.find(p => p.id === dbRow.product_id);
                        return productMetadata ? {...productMetadata, size: dbRow.size, quantity: dbRow.quantity} : null;
                    }).filter(Boolean);
                },

                /** Merges guest selections into cloud profile upon login */
                async synchronizeCartArchitecture() {
                    const localData = JSON.parse(localStorage.getItem('aura_titan_v6') || '[]');
                    if (localData.length > 0) {
                        this.showToast('Merging Archive', 'Transferring guest items to secure profile...');
                        for(const item of localData) {
                            await this.executeCloudAddition(item, item.size);
                        }
                        localStorage.removeItem('aura_titan_v6');
                    } else {
                        await this.fetchCloudCartDossier();
                    }
                },

                /** Universal removal protocol for both guest and member sessions */
                async removeFromCart(idx, item) {
                    this.cartLoading = true;
                    if(!this.session) {
                        this.cart.splice(idx, 1);
                        this.persistLocalArchive();
                    } else {
                        await this.supabase.from('cart_items').delete().match({
                            user_id: this.session.user.id, product_id: item.id, size: item.size
                        });
                        this.cart.splice(idx, 1);
                    }
                    this.cartLoading = false;
                },

                /* --- VII. SYSTEM UTILITIES & STORAGE --- */
                /** Persists state to browser memory */
                persistLocalArchive() { localStorage.setItem('aura_titan_v6', JSON.stringify(this.cart)); },
                /** Hydrates state from browser memory */
                hydrateGuestBag() { this.cart = JSON.parse(localStorage.getItem('aura_titan_v6') || '[]'); },
                
                /** Smoothly terminates user session and clears sensitive data */
                async handleLogout() { 
                    await this.supabase.auth.signOut(); 
                    this.cart = []; 
                    this.isAdmin = false;
                    this.showToast('Session Ended', 'Your terminal is now secure.', 'success');
                },
                
                /** Formats raw integers into the Javanese Currency Standard (IDR) */
                formatMoney(amount) { 
                    return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', maximumSignificantDigits: 9 }).format(amount); 
                },

                /** Triggers the Refracted Toast System */
                showToast(title, message, type = 'success') {
                    const id = Date.now();
                    this.toasts.push({ id, title, message, type, visible: true });
                    // Auto-dissolution after 4 seconds
                    setTimeout(() => {
                        const t = this.toasts.find(x => x.id === id);
                        if(t) t.visible = false;
                        setTimeout(() => { this.toasts = this.toasts.filter(x => x.id !== id); }, 500);
                    }, 4000);
                },

                /** Manual notification removal */
                removeToast(id) {
                    this.toasts = this.toasts.filter(x => x.id !== id);
                },

                /** Narrative Control: Smooth Scroll to Story */
                scrollToAbout() {
                    const storyEl = document.getElementById('story');
                    if(storyEl) storyEl.scrollIntoView({ behavior: 'smooth' });
                }
            }
        }
    </script>
</body>
</html>
